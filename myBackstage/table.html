<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/iconfont.css">
    <link rel="stylesheet" href="css/table.css">
    <link rel="stylesheet" href="css/public.css">
</head>
<body>
    <!-- header -->
    <header></header>
    <!-- main -->
    <div class="main">
        <!-- left-menu -->
        <div class="left-menu"></div>
        <!-- right-table -->
        <div class="right-table">
            <h3><span>表格</span>/<span></span></h3>
            <div class="crud">
                <div>
                    <p>
                        <span class="dataAdd"><i class="iconfont icon-xinzeng"></i>新增</span><span class="dataSave"><i class="iconfont icon-baocun"></i>保存</span><span class="dataAudit"><i class="iconfont icon-gongjuxiang">审核</i></span><span class="dataRemove"><i class="iconfont icon-Remove"></i>删除</span>
                    </p>
                    <select name="" id="">
                        <option value="">所有类别</option>
                        <option value="">IT业界</option>
                        <option value="">数码产品</option>
                        <option value="">笔记本电脑</option>
                    </select>
                </div>
                <div>
                    <input type="text">
                    <input type="button" value="搜索">
                </div>
            </div>
            <table>
                <thead>
                   <tr>
                        <td><input type="checkbox"></td>
                        <td>ID</td>
                        <td>标题</td>
                        <td>类别</td>
                        <td>作者</td>
                        <td>修改日期</td>
                        <td>操作</td>
                   </tr>
                </thead>
                <tbody class="table-data">
                    <tr>
                        <td><input type="checkbox"> </td>
                        <td>1</td>
                        <td><a href="#">Business management</a></td>
                        <td>default</td>
                        <td>测试</td>
                        <td>2014年9月4日 7:28:47</td>
                        <td class="last-td">
                           <p>
                                <span class="updata"><i class="iconfont icon-form"></i>编辑</span><span><i class="iconfont icon-copy"></i>复制</span><span class="delete"><i class="iconfont icon-Remove"></i>删除</span>
                           </p>
                           <div class="updata-box">
                            <form action="">
                                 <p><label for="id">id</label><input type="text" id="id"></p>
                                 <p><label for="title">标题</label><input type="text" id="title"></p>
                                 <p><label for="sort">类别</label><input type="text" id="sort"></p>
                                <p> <label for="writer">作者</label><input type="text" id="writer"></p>
                                <input class="btn" type="button" value="修改"><input type="button" value="取消" onclick="no()">
                            </form>
                         </div>
                        </td>
                    </tr>
                    <tr>
                        <td><input type="checkbox"> </td>
                        <td>1</td>
                        <td><a href="#">Business management</a></td>
                        <td>default</td>
                        <td>测试</td>
                        <td>2014年9月4日 7:28:47</td>
                        <td class="last-td">
                           <p>
                                <span class="updata"><i class="iconfont icon-form"></i>编辑</span><span><i class="iconfont icon-copy"></i>复制</span><span class="delete"><i class="iconfont icon-Remove"></i>删除</span>
                           </p>
                           <div class="updata-box">
                            <form action="">
                                 <p><label for="id">id</label><input type="text" id="id"></p>
                                 <p><label for="title">标题</label><input type="text" id="title"></p>
                                 <p><label for="sort">类别</label><input type="text" id="sort"></p>
                                <p> <label for="writer">作者</label><input type="text" id="writer"></p>
                                <input class="btn" type="button" value="修改"><input type="button" value="取消" onclick="no()">
                            </form>
                         </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div>
                <div>共15条记录</div>
                <p><i><a href="#"> &lt;</a></i><span><a href="#">1</a> </span>
                    <span><a href="#">2</a> </span>
                    <span><a href="#">3</a> </span>
                    <span><a href="#">4</a> </span> <i><a href="#"> &gt;</a></i></p>
                <div>
                    注：
                </div>    
            </div>
        </div>
    </div>
    <div class="add">
       <form action="">
            <p><label for="id">id</label><input type="text" id="id"></p>
            <p><label for="title">标题</label><input type="text" id="title"></p>
            <p><label for="sort">类别</label><input type="text" id="sort"></p>
           <p> <label for="writer">作者</label><input type="text" id="writer"></p>
           <input type="button" value="添加" onclick="add()"><input type="button" value="取消" onclick="no()">
       </form>
    </div>
    <!-- footer -->
    <footer></footer>
</body>
</html>
<!-- <script src="js/jquery-1.11.3.js"></script> -->
<script src="js/jquery-1.8.3.min.js"></script>
<script id="public-js" src="js/public.js"></script>
<script>
    $(function(){
        $("header").load("head.html")
        $(".left-menu").load("main.html")
        $("footer").load("foot.html")
        $(".dataAdd").click(function(){
            $(".add").css({
                display:"block"
            })
        })
        $(".dataSave")
        $(".dataAudit")
        $(".dataRemove").click(function(){
            
        })
        $(".updata").click(function(){
            $(".updata-box").css({
                display:"block",
            })
        })
        $(".delete").click(function(){
            $(this).parents("td").find(".updata-box").css({
                display:"block",
            })
            $(".updata-box").html("<form><p>你确定删除吗？</p><input type='button' value='确定' class='yes'><input type='button' value='取消'></form>") 
            $(".yes").click(function(){
                $(this).parents("tr").remove();
            })
            // $(".no").click(function(){
            //     $(this).parents("td").find(".updata-box").css({
            //         display:"none",
            //     });
            // })
        })
        $(".btn").click(function(){
            let data = {
            id:$(".updata-box").find("input").eq(0).val(),
            title:$(".updata-box").find("input").eq(1).val(),
            sort:$(".updata-box").find("input").eq(2).val(),
            writer:$(".updata-box").find("input").eq(3).val()
            };
            console.log(data);
            let time = new Date();
            let str = time.getFullYear()+"年"+time.getMonth()+"月"+time.getDate()+"日"+time.getHours()+":"+time.getMinutes()+":"+time.getSeconds();
            $(this).parents("tr").find("td").eq(1).text(data.id);
            $(this).parents("tr").find("td").eq(2).text(data.title);
            $(this).parents("tr").find("td").eq(3).text(data.sort);
            $(this).parents("tr").find("td").eq(4).text(data.writer);
            $(this).parents("tr").find("td").eq(5).text(str);
            $(".updata-box").css({
                display:"none",
            })
        })
    })
    function no(){
        $(".add").css({
            display:"none"
        })
        $(".updata-box").css({
            display:"none"
        })
    }
    function add(){
        let time = new Date();
        let str = time.getFullYear()+"年"+time.getMonth()+"月"+time.getDate()+"日"+time.getHours()+":"+time.getMinutes()+":"+time.getSeconds();
        $(".table-data").append("<tr><td><input type='checkbox'></td><td>"+$(".add").find("input").eq(0).val()+"</td><td><a href='#'>"+$(".add").find("input").eq(2).val()+"</a></td><td>"+$(".add").find("input").eq(3).val()+"</td><td>"+$(".add").find("input").eq(4).val()+"</td><td>"+str+"</td><td class='last-td'><p><span class='updata'><i class='iconfont icon-form'></i>编辑</span><span><i class='iconfont icon-copy'></i>复制</span><span class='delete'><i class='iconfont icon-Remove'></i>删除</span></p><div class='updata-box'><form action=''><p><label for='id'>id</label><input type='text' id='id'></p><p><label for='title'>标题</label><input type='text' id='title'></p><p><label for='sort'>类别</label><input type='text' id='sort'></p><p> <label for='writer'>作者</label><input type='text' id='writer'></p><input class='btn' type='button' value='修改'><input type='button' value='取消' onclick='no()'></form></div></td></tr>")
        $(".add").css({
            display:"none"
        })
    }
</script>
